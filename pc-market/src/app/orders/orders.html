@if (loading()) {
  <div class="loading">
    <div class="spinner"></div>
    <p>Loading your orders...</p>
  </div>
} @else {
  @if (orders().length > 0) {
    <div class="orders-page">
      <h2 class="orders-title">Your Orders</h2>

      @for (order of orders(); track order.orderId) {
        <div class="order-card">
          <div class="order-header">
            <h3>Order #{{ order.orderId }}</h3>
            <button class="view-button">View Order</button>
          </div>

          <p><strong>Date:</strong> {{ order.orderDate | date: 'medium' }}</p>
          <p><strong>Total:</strong> ${{ order.totalAmount }}</p>

          <div class="order-items">
            <h4>Items</h4>
            <div class="section-divider"></div>
            <ul>
              @for (item of order.orderItems; track item.productName) {
                <li class="item-card">
                  <div class="item-info">
                    <strong>{{ item.productName }}</strong>
                    <span class="seller">by {{ item.sellerName }}</span>
                  </div>
                  <div class="item-meta">
                    ${{ item.price }} Ã— {{ item.quantity }}
                    <span
                      class="item-status"
                      [ngClass]="{
                        'delivered': item.status === 'Delivered',
                        'shipped': item.status === 'Shipped',
                        'processing': item.status === 'Processing',
                        'pending': item.status === 'Pending',
                        'canceled': item.status === 'Canceled'
                      }"
                    >
                      {{ item.status }}
                    </span>
                  </div>
                </li>
              }
            </ul>
          </div>
        </div>
      }
    </div>
  } @else {
    <div class="no-orders">
      <p>No orders...yet ðŸ˜„!</p>
    </div>
  }
}
